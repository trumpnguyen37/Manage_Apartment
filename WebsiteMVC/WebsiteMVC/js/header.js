$.fn.preventParentScroll=function(){return this.on("DOMMouseScroll mousewheel",function(e){var n=$(this),t=this.scrollTop,i=this.scrollHeight,a=n.innerHeight(),o="DOMMouseScroll"==e.type?-40*e.originalEvent.detail:e.originalEvent.wheelDelta,r=o>0,s=function(){return e.stopPropagation(),e.preventDefault(),e.returnValue=!1,!1}
return!r&&-o>i-a-t?(n.scrollTop(i),s()):r&&o>t?(n.scrollTop(0),s()):void 0}),this}
var $style=$("<style>input[type=button], button[type=button], input[type=submit], button[type=submit]{cursor: pointer;}input[type=button]:focus, button[type=button]:focus, input[type=submit]:focus, button[type=submit]:focus, input[type=checkbox]:focus + label:after, input[type=checkbox]:focus, input[type=radio]:focus + label:after,input[type=radio]:focus {outline: -webkit-focus-ring-color auto 5px!important;}.rcta {text-align: center;} .rcta *{max-width: 100%; height: auto;}.image-normalized{image-rendering:auto!important;}.image-pixelated,.bg-neiberhood{image-rendering:crisp-edges!important;image-rendering:pixelated!important;}.image-optimized,img{image-rendering:optimizeSpeed;image-rendering:-moz-crisp-edges;image-rendering:-o-crisp-edges;-ms-interpolation-mode:nearest-neighbor;image-rendering:optimize-contrast;image-rendering:-webkit-optimize-contrast;}.search-sub form{overflow:visible;width:100%;float:left;}</style>")
$(document.body).append($style)
var EVENT_LOGOUT="$logout",EVENT_LOGIN="$login",GTOKEN_CAPTCHA_ID="6LfLVw8UAAAAACxRZWeOv7v7IqWRQXJdzd04dbF2",REG_EMAIL=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,AUTH_API=window._au_api,MSG={phonenumberInvalid:"Số điện thoại không hợp lệ",activeCodeInvalid:"Mã kích hoạt không hợp lệ",verifyCodeInvalid:"Mã xác thực không hợp lệ",verifyCodeWrong:"Mã xác thực không đúng",fullnameInvalid:"Họ tên không được để trống",usernameInvalid:"Email / Số điện thoại không hợp lệ",passwordInvalid:"Mật khẩu không hợp lệ (Ít nhất 8 ký tự)",tokenCaptchaInvalid:"Mã captcha không hợp lệ ",emailInvalid:"Email không hợp lệ",notAcceptPolicy:"Bạn chưa đồng ý với điều khoản sử dụng",loginFail:"Email / số điện thoại hoặc mật khẩu không đúng",resendVerifyCodeSuccess:"Gửi mã xác thực thành công",resendActiveCodeSuccess:"Gửi mã kích hoạt thành công",resendVerifyCodeFail:"Gửi mã xác thực thất bại, vui lòng kiểm tra lại số điện thoại",resendActiveCodeFail:"Gửi mã kích hoạt thất bại, vui lòng kiểm tra lại số điện thoại",resetPasswordFail:"Đặt lại mật khẩu thất bại, vui lòng kiểm tra lại mã xác thực.",emailAlreadyExisted:"Email đã được đăng ký",phonenumberAlreadyExisted:"Số điện thoại đã được đăng ký, vui lòng chọn Đăng nhập.",phonenumberRegisterWithFB:"Số điện thoại được đăng ký với Facebook <br>Vui lòng đăng nhập bằng Facebook",phonenumberNeverRegistered:"Số điện thoại chưa được đăng ký trong hệ thống",somethingWhenWrong:"Có lỗi xảy ra trong quá trình đăng nhập vui lòng thử lại sau ít phút",somethingRegisterWentWrong:"Có lỗi xảy ra trong quá trình đăng ký vui lòng thử lại sau ít phút",recaptchaInvalid:"reCAPTCHA không hợp lệ vui lòng kiểm tra lại",pleaseVerifyRecaptcha:"Vui lòng xác nhận reCAPTCHA để thực thi chức năng"},DIALOG_OPTION={width:360,close:".close, .dismiss"},$http=function e(){return e.post=function(e,n,t){$.ajax({url:e,method:"POST",contentType:"application/json",xhrFields:{withCredentials:!0},data:JSON.stringify(n||{})}).done(function(e){t&&t(e&&e.code>=0,e)}).fail(function(e){e=e||{},e.responseJSON=e.responseJSON||{},e=e.responseJSON,t&&t(e&&e.code>=0,e)})},e.get=function(e,n){$.ajax({url:e,method:"GET",contentType:"application/json"}).done(function(e){n&&n(e&&e.code>=0,e)}).fail(function(e){e=e||{},e.responseJSON=e.responseJSON||{},e=e.responseJSON,n&&n(e&&e.code>=0,e)})},e}(),$dialog=function(){var e={}
e.bodyClassSpecs="mdialog-body",e.bodyLoadingClass="mdialog-loading",e.cachedBodyStyle=null,e.default={zindex:99999,width:300,minHeight:100,background:"rgba(0,0,0,.5)",opacity:.5},e.key={cachedStyle:"cached-style"}
return e.show=function(n,t,i,a){t=$.extend(!0,{outSideClick:!0},t||{}),t.maxWidth="100%"
var o,r=document.body.getAttribute("style")
document.body.setAttribute(e.key.cachedStyle,r),o=n&&"string"==typeof n?$(document.getElementById(n)):n,o.css("opacity",0),o.css("overflow-y","auto"),o.css("overflow-x","hidden"),o.addClass("opened")
var s=(t?t.body:"")||".body"
return o.find(s).css(t),o.find(s).addClass(e.bodyClassSpecs),o[0]&&(o[0].$dialogCallback=i),o[0]&&(o[0].$dialogInitTime=+new Date),t&&t.close&&o.find(s+" "+t.close).off().click(function(t){t.preventDefault(),e.hide(n,i)}),t&&t.outSideClick&&o.off().click(function(){e.hide(n,i)}),o.find(s).click(function(e){e.stopPropagation()}),e.animation(o,0,0,1,function(){a&&a()}),e.loadingEnd(o),o},e.animation=function(n,t,i,a,o){if(n.css("opacity",t),a>0&&t>1||a<0&&t<0)return void(o&&o())
setTimeout(function(){t+=a*(.05*i+1e-4*i*i),e.animation(n,t,i+1,a,o)},10)},e.hide=function(n,t){var i
i=n?"string"==typeof n?$(document.getElementById(n)):n:$(".mdialog.opened"),e.animation(i,1,0,-1,function(){i.removeClass("opened"),t&&t(i)})},e.loadingStart=function(n){var t
t=n?"string"==typeof n?$(document.getElementById(n)):n:$(".mdialog.opened"),t.find("."+e.bodyClassSpecs).addClass(e.bodyLoadingClass)},e.loadingEnd=function(n){var t
t=n?"string"==typeof n?$(document.getElementById(n)):n:$(".mdialog.opened"),t.find("."+e.bodyClassSpecs+"."+e.bodyLoadingClass).removeClass(e.bodyLoadingClass)},$(window).keydown(function(n){var t=$(".mdialog.opened")
if(t.length&&27==n.keyCode){var i=[]
i.length=t.length
for(var a=0;a<t.length;a++)for(var o=a;o<t.length;o++)t[a].$dialogInitTime>t[o].$dialogInitTime?(i[o]=t[a],i[a]=t[o]):(i[a]=t[a],i[o]=t[o])
var r=i[i.length-1]
r&&e.hide($(r),r?r.$dialogCallback:null)}}),e.initStyles=function(){var e=document.createElement("STYLE"),n=document.head||document.getElementsByTagName("head")[0]
e.type="text/css",e.styleSheet?e.styleSheet.cssText="":e.appendChild(document.createTextNode(this.getCss())),n.appendChild(e)},e.getCss=function(){var n=e.default,t="",i={}
i.display="none",i.position="fixed",i.top="0",i.height="100%",i.left="0",i.width="100%",i["z-index"]=n.zindex,i.background=n.background,t+=e.assignStyle(".mdialog",i),t+=".mdialog.opened{display: block;}"
var a={}
a.width=n.width+"px",a["min-height"]=n.minHeight+"px",a.background="#fff",a.margin="60px auto 140px auto",t+=e.assignStyle(".mdialog .body",a)
var o={}
o.position="relative",t+=e.assignStyle("."+e.bodyLoadingClass,o)
var r={}
r.content="' '",r.top=0,r.left=0,r.width="100%",r.height="100%",r.position="absolute",r.background="#fff",r.opacity=.4,r["z-index"]=1,t+=e.assignStyle("."+e.bodyLoadingClass+":before",r)
var s={}
return s.content="' '",s.border="2px solid #303339",s["border-top"]="2px solid #fff;",s["border-radius"]="50%",s.width="30px",s.height="30px",s.position="absolute",s.top="calc(50% - 15px)",s.left="calc(50% - 15px)",s["-webkit-animation"]="spin 2s linear infinite",s.animation="spin 2s linear infinite",s["z-index"]=1,t+=e.assignStyle("."+e.bodyLoadingClass+":after",s),t+="@-webkit-keyframes spin { 0% { -webkit-transform: rotate(0deg); } 100% { -webkit-transform: rotate(360deg); } } @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }"},e.assignStyle=function(e,n){var t=e+"{"
for(var i in n){t+=i+":"+n[i]+";"}return t+="}"},e.initStyles(),e}(),$cookie=function(){return this.get=function(e){for(var n=e+"=",t=decodeURIComponent(document.cookie),i=t.split(";"),a=0;a<i.length;a++){for(var o=i[a];" "==o.charAt(0);)o=o.substring(1)
if(0==o.indexOf(n))return o.substring(n.length,o.length)}return""},this.set=function(e,n,t){var i=new Date
i.setTime(i.getTime()+24*t*60*60*1e3)
var a="expires="+i.toUTCString()
document.cookie=e+"="+n+";"+a+";path=/"},this}(),$pass=function(){return $cryptoJS=function(){var e=e||function(e,n){var t={},i=t.lib={},a=i.Base=function(){function e(){}return{extend:function(n){e.prototype=this
var t=new e
return n&&t.mixIn(n),t.$super=this,t},create:function(){var e=this.extend()
return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n])
e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.$super.extend(this)}}}(),o=i.WordArray=a.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=void 0!=n?n:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var n=this.words,t=e.words,i=this.sigBytes,e=e.sigBytes
if(this.clamp(),i%4)for(var a=0;a<e;a++)n[i+a>>>2]|=(t[a>>>2]>>>24-a%4*8&255)<<24-(i+a)%4*8
else if(t.length>65535)for(a=0;a<e;a+=4)n[i+a>>>2]=t[a>>>2]
else n.push.apply(n,t)
return this.sigBytes+=e,this},clamp:function(){var n=this.words,t=this.sigBytes
n[t>>>2]&=4294967295<<32-t%4*8,n.length=e.ceil(t/4)},clone:function(){var e=a.clone.call(this)
return e.words=this.words.slice(0),e},random:function(n){for(var t=[],i=0;i<n;i+=4)t.push(4294967296*e.random()|0)
return o.create(t,n)}}),r=t.enc={},s=r.Hex={stringify:function(e){for(var n=e.words,e=e.sigBytes,t=[],i=0;i<e;i++){var a=n[i>>>2]>>>24-i%4*8&255
t.push((a>>>4).toString(16)),t.push((15&a).toString(16))}return t.join("")},parse:function(e){for(var n=e.length,t=[],i=0;i<n;i+=2)t[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4
return o.create(t,n/2)}},c=r.Latin1={stringify:function(e){for(var n=e.words,e=e.sigBytes,t=[],i=0;i<e;i++)t.push(String.fromCharCode(n[i>>>2]>>>24-i%4*8&255))
return t.join("")},parse:function(e){for(var n=e.length,t=[],i=0;i<n;i++)t[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8
return o.create(t,n)}},d=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},l=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=o.create(),this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(n){var t=this._data,i=t.words,a=t.sigBytes,r=this.blockSize,s=a/(4*r),s=n?e.ceil(s):e.max((0|s)-this._minBufferSize,0),n=s*r,a=e.min(4*n,a)
if(n){for(var c=0;c<n;c+=r)this._doProcessBlock(i,c)
c=i.splice(0,n),t.sigBytes-=a}return o.create(c,a)},clone:function(){var e=a.clone.call(this)
return e._data=this._data.clone(),e},_minBufferSize:0})
i.Hasher=l.extend({init:function(){this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize(),this._hash},clone:function(){var e=l.clone.call(this)
return e._hash=this._hash.clone(),e},blockSize:16,_createHelper:function(e){return function(n,t){return e.create(t).finalize(n)}},_createHmacHelper:function(e){return function(n,t){return p.HMAC.create(e,t).finalize(n)}}})
var p=t.algo={}
return t}(Math)
return function(n){function t(e,n,t,i,a,o,r){return((e=e+(n&t|~n&i)+a+r)<<o|e>>>32-o)+n}function i(e,n,t,i,a,o,r){return((e=e+(n&i|t&~i)+a+r)<<o|e>>>32-o)+n}function a(e,n,t,i,a,o,r){return((e=e+(n^t^i)+a+r)<<o|e>>>32-o)+n}function o(e,n,t,i,a,o,r){return((e=e+(t^(n|~i))+a+r)<<o|e>>>32-o)+n}var r=e,s=r.lib,c=s.WordArray,s=s.Hasher,d=r.algo,l=[]
!function(){for(var e=0;e<64;e++)l[e]=4294967296*n.abs(n.sin(e+1))|0}(),d=d.MD5=s.extend({_doReset:function(){this._hash=c.create([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,n){for(var r=0;r<16;r++){var s=n+r,c=e[s]
e[s]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}for(var s=this._hash.words,c=s[0],d=s[1],p=s[2],h=s[3],r=0;r<64;r+=4)r<16?(c=t(c,d,p,h,e[n+r],7,l[r]),h=t(h,c,d,p,e[n+r+1],12,l[r+1]),p=t(p,h,c,d,e[n+r+2],17,l[r+2]),d=t(d,p,h,c,e[n+r+3],22,l[r+3])):r<32?(c=i(c,d,p,h,e[n+(r+1)%16],5,l[r]),h=i(h,c,d,p,e[n+(r+6)%16],9,l[r+1]),p=i(p,h,c,d,e[n+(r+11)%16],14,l[r+2]),d=i(d,p,h,c,e[n+r%16],20,l[r+3])):r<48?(c=a(c,d,p,h,e[n+(3*r+5)%16],4,l[r]),h=a(h,c,d,p,e[n+(3*r+8)%16],11,l[r+1]),p=a(p,h,c,d,e[n+(3*r+11)%16],16,l[r+2]),d=a(d,p,h,c,e[n+(3*r+14)%16],23,l[r+3])):(c=o(c,d,p,h,e[n+3*r%16],6,l[r]),h=o(h,c,d,p,e[n+(3*r+7)%16],10,l[r+1]),p=o(p,h,c,d,e[n+(3*r+14)%16],15,l[r+2]),d=o(d,p,h,c,e[n+(3*r+5)%16],21,l[r+3]))
s[0]=s[0]+c|0,s[1]=s[1]+d|0,s[2]=s[2]+p|0,s[3]=s[3]+h|0},_doFinalize:function(){var e=this._data,n=e.words,t=8*this._nDataBytes,i=8*e.sigBytes
for(n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=16711935&(t<<8|t>>>24)|4278255360&(t<<24|t>>>8),e.sigBytes=4*(n.length+1),this._process(),e=this._hash.words,n=0;n<4;n++)t=e[n],e[n]=16711935&(t<<8|t>>>24)|4278255360&(t<<24|t>>>8)}}),r.MD5=s._createHelper(d),r.HmacMD5=s._createHmacHelper(d)}(Math),e}(),this.validate=function(e){return e&&e.length>=8},this.encrypt=function(e){return btoa(String.fromCharCode.apply(null,$cryptoJS.MD5(e).toString().replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")))},this}(),$validate=function(){return this.error=function(e,n){if(e&&e.length){e.addClass("error-form")
var t=e.find("div.msg")
t.length||(t=$('<div class="msg"></div>'),e.append(t)),t.html("<i>"+n+"</i>")}},this.none=function(e){e&&e.length?(e.removeClass("error-form"),e.find("div.msg").remove()):($(".form-group div.msg").remove(),$(".form-group").removeClass("error-form"))},this.info=function(e,n){if(e&&e.length){e.removeClass("error-form")
var t=e.find("div.msg")
t.length||(t=$('<div class="msg"></div>'),e.append(t)),t.html("<i>"+n+"</i>")}},this.getErrorMsg=function(e){e=e||{}
var n=e.data||{}
return-1==e.code&&0==n.token_captcha?MSG.tokenCaptchaInvalid:-1==e.code&&0==n.token_phone?MSG.activeCodeInvalid:-1==e.code&&1==n.exist_phone?MSG.phonenumberAlreadyExisted:-1==e.code&&0==n.exist_phone?MSG.phonenumberNeverRegistered:-1==e.code&&0==n.verify_phone?MSG.emailAlreadyExisted:-1==e.code&&0==n.need_register?MSG.phonenumberNeverRegistered:-1==e.code&&0==n.authtype_user_pass?MSG.phonenumberRegisterWithFB:-1==e.code&&1==n.invalid_phone?MSG.phonenumberInvalid:""},this.checkPhonenumber=function(e){return e&&e.length>=10},this.checkEmail=function(e){return e&&REG_EMAIL.test(e)},this}(),$event=function(){return this._map={},this.on=function(e,n){this._map[e]||(this._map[e]=[]),"function"==typeof n&&this._map[e].push(n)},this.off=function(e,n){if(this._map[e]){var t=this._map[e].indexOf(n)
t>=0&&t<this._map[e].length&&this._map[e].splice(t,1)}},this.dispatch=function(e,n){this._map[e]&&this._map[e].forEach(function(e){"function"==typeof e&&e(n)})},this}(),CONTACT_AGENT_SUCCESS=$('<div class="mdialog"><div class="body"><div class="form-signup"><div class="title"><span>Gửi thông tin thành công</span><a href="#" class="actionIcon close"></a></div><form name="contact-dialog"><div class="box-form"><p>Cảm ơn bạn đã liên hệ với Rever. Chúng tôi sẽ gọi cho bạn trong thời gian sớm nhất. Nếu không liên lạc được qua điện thoại, chúng tôi sẽ gởi email cho bạn. <br>Trân trọng.</p><button class="booking-button submit" type="button">Đóng lại</button></div></form></div></div></div>'),CONTACT_AGENT_FAIL=$('<div class="mdialog"><div class="body"><div class="form-signup"><div class="title"><span>Gửi thông tin thất bại</span><a href="#" class="actionIcon close"></a></div><form name="contact-dialog"><div class="box-form"><p>Xảy ra sự cố trong quá trình gửi thông tin, vui lòng thử lại trong ít phút hoặc chat với hỗ trợ viên của chúng tôi. <br>Rất xin lỗi về sự cố này.</p><button class="booking-button submit" type="button">Đóng lại</button></div></form></div></div></div>'),INIT_CHAT_FAIL=$('<div class="mdialog"><div class="body" style="width:360px; min-height:0"><div class="form-signup"><div class="form-signup"><div class="title">Thông báo <a href="#" class="font-icon close"></a></div><div class="box-form"><p class="pdb-10">Xảy ra sự cố trong quá trình khởi tạo <b>dịch vụ Chat</b>.<br> Vui lòng thử lại sau ít phút. Chúng tôi rất xin lỗi vì sự cố bất tiện này!</p><button type="button" class="booking-button dismiss">Đóng lại</button></div></div></div></div>'),REQUIRE_LOGIN=$('<div class="mdialog"><div class="body" style="width:360px; min-height:0"><div class="form-signup"><div class="form-signup"><div class="title">Thông báo<a href="#" class="actionIcon close"></a></div><div class="box-form"><p class="pdb-10">Bạn chưa đăng nhập vào hệ thống. <br>Vui lòng <a href="#login">đăng nhập</a> để sử dụng tính năng này.</p><a class="booking-button " href="#login">Đăng nhập</a><p class="gray pd-tb-10" align="center" style="float: left; width: 100%;"> Bạn chưa có tài khoản? <a href="#register">Đăng ký ngay</a> </p></div></div></div></div>'),LOGIN_DIALOG=$('<div class="mdialog"><div class="body" style="width:360px"><form class="form-signup"><div class="title">Đăng nhập<a href="#" class="actionIcon close"></a></div><div class="box-form"><div class="form-group"></div><a href="#login-facebook" class="bnt-facebook"> Đăng nhập bằng facebook</a><div class="or"><p class="or-bg pdb-0"> HOẶC</p></div><div class="form-group"><input type="text" name="username" class="" placeholder="Email / số điện thoại"></div><div class="form-group"><input type="password" name="password" class="" placeholder="Mật khẩu"><input type="hidden" name="recaptcha" class="" value="false"></div><div id="login-recaptcha" class="g-recaptcha"></div><div class="clear-both pd-tb-5" style="margin-top:6px;"><div class="left"><span class="checkbox "><input name="remember" id="remember" type="checkbox"><label for="remember"> <span class="gray">Ghi nhớ</span></label></span></div><div class="right"><span><a href="#forget-password">Quên mật khẩu</a></span></div></div><button type="submit" class="booking-button" data-action="#login-action">Đăng nhập</button><div class="clear-both"></div><p class="gray pd-tb-10" align="center"> Bạn chưa có tài khoản? <a href="#register">Đăng ký ngay</a> </p></form></div></div>'),FORGET_PASSWORD_DIALOG=$('<div class="mdialog"><div class="body" style="width:360px; min-height:0"><form class="form-signup"><div class="form-signup"><div class="title">Quên mật khẩu<a href="#" class="actionIcon close"></a></div><div class="box-form"><p class="pdb-10">Vui lòng nhập số điện thoại để lấy mã xác thực và đặt lại mật khẩu.</p><div class="form-group"><input type="text" name="phonenumber" role="phonenumber" class="" placeholder="Số điện thoại"><input type="hidden" name="recaptcha" value="false"></div><div id="forget-pass-recaptcha" class="g-recaptcha"></div><div class="clear-both pd-tb-5" style="margin-top:6px;"><button type="submit" class="booking-button">Gửi mã xác thực</button><div class="clear-both"></div><p class="gray pd-tb-10" align="center"> Bạn chưa có tài khoản? <a href="#register">Đăng ký ngay</a> </p></div></form></div></div>'),RESET_PASSWORD_DIALOG=$('<div class="mdialog"><div class="body" style="width:360px; min-height:0"><form class="form-signup"><div class="title">Quên mật khẩu<a href="#" class="actionIcon close"></a></div><div class="box-form"><p class="pdb-10">Mã xác thực đã được gửi đến số điện thoại của bạn.<br>Vui lòng nhập mã xác thực và mật khẩu mới.</p><div class="form-group"><input type="text" name="phonenumber" class="" placeholder="Số điện thoại" disabled><input type="hidden" name="recaptcha" value="false"></div><div class="form-group"><input type="text" name="verifycode" class="" placeholder="Mã xác thực"></div><div class="form-group"><input type="password" name="password" class="" placeholder="Mật khẩu mới"></div><button type="submit" class="booking-button">Đặt lại mật khẩu</button><div class="clear-both"></div><div class="clear-both pd-tb-5" style="margin-top:6px;"><div id="reset-pass-recaptcha" class="g-recaptcha"></div><div class="clear-both pd-tb-5" style="margin-top:6px;"><p class="gray pd-tb-10" align="center"> Không nhận được mã kích hoạt? <a href="#resend-verify-code-action">Gửi lại mã</a> </p></form>NaN'),RESET_PASSWORD_SUCCESS_DIALOG=$('<div class="mdialog"><div class="body" style="width:360px; min-height:0"><div class="form-signup"><div class="title">Quên mật khẩu<a href="#" class="font-icon close"></a></div><div class="box-form"><p class="pdb-10"><strong>Đặt lại mật khẩu</strong> thành công. <br>Vui lòng nhấn vào đây để <a href="#login">đăng nhập</a> vào hệ thống với mật khẩu mới.</p><button type="button" class="booking-button dismiss">Đóng lại</button></div></div></div>'),REGISTER_SUCCESS_DIALOG=$('<div class="mdialog"><div class="body" style="width:360px; min-height:0"><div class="form-signup"><div class="title">Đăng ký<a href="#" class="font-icon close"></a></div><div class="box-form"><p class="pdb-10">Đăng ký tài khoản thành công. <br>Vui lòng nhấn vào đây để <a href="#login">Đăng nhập</a> vào hệ thống.</p><button type="button" class="booking-button dismiss">Đóng lại</button></div></div></div>'),LOGIN_SUCCESS_DIALOG=$('<div class="mdialog"><div class="body" style="width:360px; min-height:0"><div class="form-signup"><div class="title">Đăng nhập<a href="#" class="font-icon close"></a></div><div class="box-form"><p class="pdb-10"><b>Đăng nhập</b> tài khoản thành công.</p><button type="button" class="booking-button dismiss">Đóng lại</button></div></div></div>'),REGISTER_DIALOG=$('<div class="mdialog"><div class="body" style="width:360px"><form class="form-signup"><div class="title">Đăng ký<a href="#" class="actionIcon close"></a></div><div class="box-form"><div class="form-group"></div><a href="#register-facebook-action" class="bnt-facebook"> Đăng ký bằng facebook</a><div class="or"><p class="or-bg pdb-0"> HOẶC</p></div><div class="form-group"><p class="">Vui lòng nhập số điện thoại để đăng ký.</p><div class="form-group"><input type="text" name="phonenumber" role="phonenumber" class="" placeholder="Nhập số điện thoại"><input type="hidden" name="recaptcha" value="false"></div><div id="register-recaptcha" class="g-recaptcha"></div><div class="clear-both pd-tb-10"><div class="left"><span class="checkbox"><input name="accept-policy" type="checkbox" checked=""><label for="bd3"> <span class="gray">Đã đọc và đồng ý với </span></label> </span> <a href="#policy"> điều khoản sử dụng</a></div><div class="right"><span></span></div></div><button type="submit" class="booking-button">Đăng ký</button><div class="clear-both"></div><p class="gray pd-tb-20" align="center" style="padding-bottom: 0!important;"> Bạn đã có tài khoản? <a href="#login">Đăng nhập</a> </p></div></form></div></div>'),REGISTER_POLICY_DIALOG=$('<div class="mdialog"><div class="body" style="width:360px"><div class="form-signup"><div class="title">Điều khoản sử dụng<a href="#" class="actionIcon close"></a></div><div class="box-form"><div class="form-group" style="text-align:left"><strong style="text-align:left">Thông tin mà Rever sẽ thu thập từ khách hàng bao gồm những gì?</strong><p style="text-align:left">Chúng tôi chỉ thu thập những thông tin mà bạn chia sẻ khi đăng ký tài khoản với website Rever.vn. Những thông tin này bao gồm các thông tin liên lạc cơ bản như Họ và tên, Địa chỉ, Email, Số điện thoại. Tất cả các thông tin lưu trữ này được chúng tôi bảo vệ chặt chẽ bằng tiêu chuẩn an ninh thông tin cấp cao.</p><p style="text-align:left">Chúng tôi cũng thực hiện việc thu thập thông tin hành vi của khách hàng chỉ duy nhất trên trang web Rever.vn để thực hiện mục tiêu luôn ghi nhận trải nghiệm khách hàng để nâng cao trải nghiệm, phục vụ khách hàng đúng nơi, đúng lúc và hiểu  được điều quan tâm của khách hàng. </p><p style="text-align:left">Các thông tin theo sát trải nghiệm người dùng sẽ bao gồm việc thu thập địa chỉ IP, thu thập thông tin tìm kiếm, thu thập thông tin cookie và lịch sử truy cập các trang thông tin BĐS ngay trên Rever.vn. Chúng tôi sử dụng Cookie để cho phép hệ thống server dễ dàng nhận ra trình duyệt web mà bạn đang sử dụng, và giúp chúng tôi hiểu được bạn biết đến Rever.vn từ đâu và thời điểm mà bạn truy cập website Rever.vn là lúc nào. Để tìm hiểu được nhiều thông tin chi tiết hơn, bạn có thể truy cập vào mục "Chính Sách bảo mật" của Rever. </p><p style="text-align:left">Chúng tôi không đảm bảo hay cam kết về việc những công nghệ bảo mật mà Rever đang sử dụng có thể tránh hoàn toàn việc truy cập trái phép mà Rever đang sở hữu.</p><strong style="text-align:left">Rever.vn có chuyển thông tin cá nhân của tôi cho bên thứ ba hay bất kì cá nhân nào khác hay không? </strong><p style="text-align:left">Chúng tôi cam kết không bao giờ chia sẻ hay cung cấp thông tin mang tính chất nhận dạng, có thể giúp tìm ra cá nhân. Bất kì thông tin nào được Rever chia sẻ hay cung cấp công khai sẽ được chuyển hóa thành thông tin mang tính khái quát, tổng hợp, không định danh.</p><button type="button" class="booking-button dismiss">Đóng lại</button></div></div>'),VERIFY_CODE_DIALOG=$('<div class="mdialog"><div class="body" style="width:360px;min-height:0"><form class="form-signup"><div class="title">Nhập mã kích hoạt<a href="#" class="actionIcon close"></a></div><div class="box-form"><p class="pd-tb-10">Mã kích hoạt được gửi đến số điện thoại của bạn,<br>vui lòng nhập vào khung bên dưới</p><div class="form-group "><input type="text" name="phonenumber" class="" placeholder="Số điện thoại" autocomplete="off" spellcheck="false" dir="auto" disabled><input type="hidden" name="recaptcha" value="false"></div><div class="form-group"><input type="text" name="verify-code" class="" placeholder="Nhập mã kích hoạt" autocomplete="off" spellcheck="false" dir="auto"></div><button type="submit" class="booking-button" href="#verify-code-action">Xác nhận</button><div class="clear-both"></div><div class="clear-both pd-tb-5" style="margin-top:6px;"><div id="register-active-code-recaptcha" class="g-recaptcha"></div><div class="clear-both pd-tb-5" style="margin-top:6px;"><p class="gray pd-tb-10" align="center"> Không nhận được mã kích hoạt? <a href="#resend-verify-code-action">Gửi lại mã</a> </p></form></div></div>'),ADDITIONAL_INFO_DIALOG=$('<div class="mdialog"><div class="body" style="width:360px;min-height:0"><form class="form-signup"><div class="title">Đăng ký<a href="#" class="actionIcon close"></a></div><div class="box-form"><p class="pd-tb-10">Vui lòng nhập đầy đủ những thông tin bên dưới để hoàn tất đăng ký</p><div class="form-group"><input type="hidden" name="phonetoken"><input type="hidden" name="phonenumber"><input type="text" name="fullname" class="" placeholder="Họ tên"></div><div class="form-group"><input type="text" name="email" class="" placeholder="Email"></div><div class="form-group"><input type="password" name="password" class="" placeholder="Mật khẩu"></div><button type="submit" class="booking-button" href="#finish">Hoàn tất</button></form></div></div>'),REGISTER_FB_DIALOG=$('<div class="mdialog"><div class="body" style="width:360px"><form class="form-signup"><div class="title">Đăng ký bằng Facebook<a href="#" class="actionIcon close"></a></div><div class="box-form"><div class="form-group"><input type="hidden" name="fbid"><input type="hidden" name="token"><input type="hidden" name="recaptcha" value="false"><div class="avatar" style="display:none"><img src=""><div class="fullname"></div></div><p class="pd-tb-10">Vui lòng thiết lập số điện thoại và mật khẩu cho tài khoản của bạn</p><div class="form-group"><input type="text" name="phonenumber" role="phonenumber" class="" placeholder="Nhập số điện thoại"><input type="password" name="password" role="password" class="" placeholder="Mật khẩu"></div><div id="register-facebook-recaptcha" class="g-recaptcha"></div><div class="clear-both pd-tb-10"><div class="left"><span class="checkbox "><input name="accept-policy" type="checkbox" checked=""><label for="bd3"> <span class="gray">Đã đọc và đồng ý với </span></label> </span> <a href="#policy"> điều khoản sử dụng</a></div><div class="right"><span></span></div></div><button type="submit" class="booking-button">Tiếp tục</button><div class="clear-both"></div><p class="gray pd-tb-20" align="center" style="padding-bottom: 0!important;"> Bạn đã có tài khoản? <a href="#login">Đăng nhập</a> </p></div></form></div></div>'),VERIFY_CODE_FB_DIALOG=$('<div class="mdialog"><div class="body" style="width:360px;min-height:0"><form class="form-signup"><div class="title">Nhập mã kích hoạt<a href="#" class="actionIcon close"></a></div><div class="box-form"><div class="avatar" style="display:none"><img src=""><div class="fullname"></div></div><p class="pd-tb-10">Mã kích hoạt được gửi đến số điện thoại của bạn,<br>vui lòng nhập vào khung bên dưới</p><div class="form-group "><input type="hidden" name="fbid"><input type="hidden" name="token"><input type="hidden" name="encryptedPass"><input type="hidden" name="recaptcha" value="false"><input type="text" name="phonenumber" class="" placeholder="Số điện thoại" autocomplete="off" spellcheck="false" dir="auto" disabled></div><div class="form-group"><input type="text" name="verify-code" class="" placeholder="Nhập mã kích hoạt" autocomplete="off" spellcheck="false" dir="auto"></div><button type="submit" class="booking-button">Xác nhận</button><div class="clear-both"></div><div class="clear-both pd-tb-5" style="margin-top:6px;"><div id="resend-verify-facebook-recaptcha" class="g-recaptcha"></div><div class="clear-both pd-tb-5" style="margin-top:6px;"><p class="gray pd-tb-10" align="center"> Không nhận được mã kích hoạt? <a href="#resend-verify-code-action">Gửi lại mã</a> </p></form></div></div>'),SIGN_IN_SET_PASS=$('<div class="mdialog" style="opacity: 1.0591; overflow-y: auto; overflow-x: hidden;"><div class="body mdialog-body" style="width: 360px; max-width: 100%;"><form class="form-signup"><div class="title">Đăng nhập<a href="#" class="actionIcon close"></a></div><div class="box-form"><p class="description-form">Để hoàn tất việc đăng ký tài khoản, vui lòng thiết lập mật khẩu.</p><div><input type="text" name="phonenumber" role="phonenumber" class="" placeholder="Nhập số điện thoại" disabled><input type="password" name="password" role="password" class="" placeholder="Mật khẩu"><button type="submit" class="btn-black">HOÀN TẤT</button></div></div></form></div></div>'),SIGN_UP_SET_PASS=$('<div class="mdialog" style="opacity: 1.0591; overflow-y: auto; overflow-x: hidden;"><div class="body mdialog-body" style="width: 360px; max-width: 100%;"><form class="form-signup"><div class="title">Đăng ký<a href="#" class="actionIcon close"></a></div><div class="box-form"><p class="description-form">Để hoàn tất việc đăng ký tài khoản, vui lòng thiết lập số điện thoại và mật khẩu.</p><div><input type="text" name="phonenumber" role="phonenumber" class="" placeholder="Nhập số điện thoại"><input type="password" name="password" role="password" class="" placeholder="Mật khẩu"><button type="submit" class="btn-black">GỬI</button></div></div></form></div></div>'),SIGN_IN_FB=$('<div class="mdialog" style="opacity: 1.0591; overflow-y: auto; overflow-x: hidden;"><div class="body mdialog-body" style="width: 360px; max-width: 100%;"><form class="form-signup"><div class="title">Đăng nhập<a href="#" class="actionIcon close"></a></div><div class="box-form"><p class="description-form">Số điện thoại này chưa được thiết lập mật khẩu. Vui lòng đăng nhập qua Facebook để hoàn tất thông tin tài khoản.</p><a href="#login-facebook" class="bnt-facebook"> Đăng nhập bằng facebook</a><p class="gray footer-form" align="center"> Bạn chưa có tài khoản? <a href="#register">Đăng ký</a> </p></div></form></div></div>')
!function(){$(".searchdetailbox").find("button").click(function(e){var n=$(this).closest(".searchdetailbox")
n.find("input").val()||(n.toggleClass("searchdetailbox-mobile"),e.preventDefault()),$(document).click(function(e){null==e.target.closest(".searchdetailbox")&&n.removeClass("searchdetailbox-mobile")})}),$(".menuiconblack,.menuicon").click(function(){$(".header2402-navBar").addClass("is-visible"),$(".black-background").addClass("black-background-visible"),$(".black-background-visible").off().click(function(){$(".header2402-navBar").removeClass("is-visible"),$(".black-background").removeClass("black-background-visible")})}),$(".actionIcon").click(function(){$(".header2402-navBar").removeClass("is-visible"),$(".black-background").removeClass("black-background-visible")}),$(".header2402-navBar li").click(function(){$(".header2402-navBar").removeClass("is-visible"),$(".black-background").removeClass("black-background-visible")}),$(".menu-header li a, .menu-header + .actionIcon").click(function(){$(".header2402-navBar").removeClass("is-visible"),$(".black-background").removeClass("black-background-visible")}),$("button.dropdownItembnt,button.dropdownItembnt-black").click(function(e){e.preventDefault(),e.stopPropagation(),$(e.target).parent().next().toggleClass("is-open")}),$(document).click(function(e){$(".location-navgroup-black ul.dropdownItem-black.is-open, .location-navgroup ul.dropdownItem.is-open").removeClass("is-open")})}(),$(document.body).append(LOGIN_DIALOG).append(FORGET_PASSWORD_DIALOG).append(RESET_PASSWORD_DIALOG).append(RESET_PASSWORD_SUCCESS_DIALOG).append(REGISTER_DIALOG).append(VERIFY_CODE_DIALOG).append(ADDITIONAL_INFO_DIALOG).append(REGISTER_SUCCESS_DIALOG).append(REGISTER_FB_DIALOG).append(VERIFY_CODE_FB_DIALOG).append(INIT_CHAT_FAIL).append(REQUIRE_LOGIN).append(LOGIN_SUCCESS_DIALOG).append(REGISTER_POLICY_DIALOG).append(CONTACT_AGENT_SUCCESS).append(CONTACT_AGENT_FAIL).append(SIGN_IN_SET_PASS).append(SIGN_IN_FB)
var DialogManager=function(){var e=this
return e.showDialogSignInFB=function(){$dialog.hide()
var e=$.extend({},DIALOG_OPTION,{outSideClick:!1})
$dialog.show(SIGN_IN_FB,e),$validate.none()},e.showSignInSetPass=function(e,n,t){$dialog.hide(),SIGN_IN_SET_PASS.find("input[name=phonenumber]").val(e||""),SIGN_IN_SET_PASS.find("input[name=password]").val("")
var i=$.extend({},DIALOG_OPTION,{outSideClick:!1})
return $dialog.show(SIGN_IN_SET_PASS,i,n,t),SIGN_IN_SET_PASS.find("form").on("submit",function(e){e.preventDefault()
var n=SIGN_IN_SET_PASS.find("input[name=password]"),t=n.val(),i=!1
$pass.validate(t)||($validate.error(n.parent(),MSG.passwordInvalid),n.focus(),i=!0),i||($dialog.loadingStart(SIGN_IN_SET_PASS),$http.post(AUTH_API+"/user/set-oauth-password",{password:$pass.encrypt(t)},function(e,n){$dialog.loadingEnd(SIGN_IN_SET_PASS),e&&($event.dispatch(EVENT_LOGIN,!0),location.reload())}))}),$validate.none(),$pass.focus(),SIGN_IN_SET_PASS},e.showSignUpSetPass=function(){$dialog.hide()
var e=SIGN_UP_SET_PASS.find("input[name=phonenumber]"),n=SIGN_UP_SET_PASS.find("input[name=password]")
return e.val(""),n.val(""),$dialog.show(SIGN_UP_SET_PASS,$.extend({},DIALOG_OPTION,{outSideClick:!1})),$validate.none(),e.focus(),SIGN_UP_SET_PASS},e}(),LoginAction=function(){var e=this
return e.init=function(){e.forgetPasswordRccId=null,e.resetPasswordRccId=null,$("a[href=#login]").click(e.showLoginDialogAction),LOGIN_DIALOG.find("form").on("submit",e.loginAction),LOGIN_DIALOG.find("a[href=#forget-password]").click(e.showForgetPasswordAction),FORGET_PASSWORD_DIALOG.find("form").on("submit",e.sendVerifyCodeResetPasswordAction),RESET_PASSWORD_DIALOG.find("a[href=#resend-verify-code-action]").click(e.resendVerifyCodeResetPasswordAction),RESET_PASSWORD_DIALOG.find("form").on("submit",e.resetPasswordAction)},e.showLoginDialogAction=function(e){e.preventDefault&&e.preventDefault()
var n=$.extend(DIALOG_OPTION,{outSideClick:!1})
$dialog.show(LOGIN_DIALOG,n,function(){LOGIN_DIALOG.find("input").val(""),$validate.none()}),LOGIN_DIALOG.find("input[name=username]").focus(),$validate.none()},e.loginAction=function(e){e.preventDefault()
var n,t=LOGIN_DIALOG.find("input[name=username]"),i=LOGIN_DIALOG.find("input[name=password]"),a=t.val(),o=i.val(),r=LOGIN_DIALOG.find("input[name=remember]").prop("checked"),s="true"==LOGIN_DIALOG.find("input[name=recaptcha]").val()
s&&(n=grecaptcha.getResponse()),console.log(n)
var c=!1
if(s&&!n&&($validate.error(t.parent(),""),$validate.error(i.parent(),MSG.recaptchaInvalid),i.focus(),c=!0),a||($validate.error(t.parent(),MSG.usernameInvalid),t.focus(),c=!0),!c){var d=REG_EMAIL.test(a)?"email":"phone"
$dialog.loadingStart(LOGIN_DIALOG),$http.post(AUTH_API+"/user/login",{username:a,password:$pass.encrypt(o),remember:r,login_type:d},function(e,n){e?($event.dispatch(EVENT_LOGIN,!0),location.reload()):n&&n.data&&0==n.data.auth_type_user_pass?DialogManager.showDialogSignInFB():($validate.error(t.parent(),""),$validate.error(i.parent(),$validate.getErrorMsg(n)||MSG.loginFail),t.focus()),$dialog.loadingEnd(LOGIN_DIALOG)})}},e.showForgetPasswordAction=function(n){n.preventDefault(),e.renderRecaptchaForgetPassword(),$dialog.hide(),$dialog.show(FORGET_PASSWORD_DIALOG,DIALOG_OPTION)
var t=FORGET_PASSWORD_DIALOG.find("input[name=phonenumber]")
t.val(""),$validate.none(t.parent()),t.focus()},e.sendVerifyCodeResetPasswordAction=function(n){n.preventDefault&&n.preventDefault()
var t=FORGET_PASSWORD_DIALOG.find("input[name=phonenumber]"),i=t.val(),a=t.parent(),o="true"===FORGET_PASSWORD_DIALOG.find("input[name=recaptcha]").val(),r=null,s=!1
o&&null!==e.forgetPasswordRccId&&(r=grecaptcha.getResponse(e.forgetPasswordRccId)),o&&null===r&&($validate.error(a,MSG.recaptchaInvalid),t.focus(),null===e.forgetPasswordRccId&&e.renderRecaptchaForgetPassword(),s=!0),$validate.checkPhonenumber(i)||($validate.error(a,MSG.phonenumberInvalid),t.focus(),s=!0),s||($dialog.loadingStart(FORGET_PASSWORD_DIALOG),e.sendVerifyCodeResetPassword(i,o,r,function(n,s){n?e.showResetPasswordDialog(i):s&&-1===s.code&&s.data&&!1===s.data.token_captcha?(FORGET_PASSWORD_DIALOG.find("input[name=recaptcha]").val("true"),null===e.forgetPasswordRccId?$validate.info(a,MSG.pleaseVerifyRecaptcha):$validate.error(a,MSG.recaptchaInvalid),e.renderRecaptchaForgetPassword(),t.focus()):(o&&r&&e.renderRecaptchaForgetPassword(),$validate.error(a,$validate.getErrorMsg(s)||MSG.phonenumberNeverRegistered),t.focus()),$dialog.loadingEnd(FORGET_PASSWORD_DIALOG)}))},e.renderRecaptchaForgetPassword=function(){"true"===FORGET_PASSWORD_DIALOG.find("input[name=recaptcha]").val()?(null!==e.forgetPasswordRccId?grecaptcha.reset(e.forgetPasswordRccId):e.forgetPasswordRccId=grecaptcha.render("forget-pass-recaptcha",{sitekey:GTOKEN_CAPTCHA_ID,callback:e.sendVerifyCodeResetPasswordAction}),$("#forget-pass-recaptcha").css("display","block")):$("#forget-pass-recaptcha").css("display","none")},e.showResetPasswordDialog=function(n){$validate.none(),e.renderRecaptchaResetPassword()
var t=RESET_PASSWORD_DIALOG.find("input[name=phonenumber]")
$dialog.hide(),$dialog.show(RESET_PASSWORD_DIALOG,DIALOG_OPTION),t.val(n),$verifycode=RESET_PASSWORD_DIALOG.find("input[name=verifycode]"),$verifycode.val(""),$verifycode.focus()},e.resetPasswordAction=function(e){e.preventDefault()
var n=RESET_PASSWORD_DIALOG.find("input[name=phonenumber]").val(),t=RESET_PASSWORD_DIALOG.find("input[name=verifycode]"),i=t.val(),a=RESET_PASSWORD_DIALOG.find("input[name=password]"),o=a.val(),r=!1
$pass.validate(o)||($validate.error(a.parent(),MSG.passwordInvalid),r=!0,a.focus()),i||($validate.error(t.parent(),MSG.verifyCodeInvalid),r=!0,t.focus()),r||($dialog.loadingStart(RESET_PASSWORD_DIALOG),$http.post(AUTH_API+"/user/forgetPassword",{password:$pass.encrypt(o),phone_number:n,verify_code:i},function(e,n){e?($dialog.hide(),$dialog.show(RESET_PASSWORD_SUCCESS_DIALOG,DIALOG_OPTION)):($validate.none(a.parent(),""),$validate.error(t.parent(),$validate.getErrorMsg(n)||MSG.verifyCodeWrong),t.focus()),$dialog.loadingEnd(RESET_PASSWORD_DIALOG)}))},e.resendVerifyCodeResetPasswordAction=function(n){n.preventDefault&&n.preventDefault()
var t=RESET_PASSWORD_DIALOG.find("input[name=phonenumber]"),i=RESET_PASSWORD_DIALOG.find("input[name=verifycode]"),a=t.val(),o="true"===RESET_PASSWORD_DIALOG.find("input[name=recaptcha]").val(),r=null
o&&null!==e.resetPasswordRccId&&(r=grecaptcha.getResponse(e.resetPasswordRccId)),o&&null===r?($validate.error(i.parent(),MSG.recaptchaInvalid),null===e.resetPasswordRccId&&e.renderRecaptchaResetPassword(),i.focus()):($dialog.loadingStart(RESET_PASSWORD_DIALOG),e.sendVerifyCodeResetPassword(a,o,r,function(n,t){n?$validate.info(i.parent(),MSG.resendVerifyCodeSuccess):t&&t.data&&!1===t.data.token_captcha?(RESET_PASSWORD_DIALOG.find("input[name=recaptcha]").val("true"),null===e.resetPasswordRccId?$validate.info(i.parent(),MSG.pleaseVerifyRecaptcha):$validate.error(i.parent(),MSG.recaptchaInvalid),e.renderRecaptchaResetPassword(),i.focus()):(o&&r&&e.renderRecaptchaResetPassword(),$validate.error(i.parent(),$validate.getErrorMsg(t)||MSG.resendVerifyCodeFail),i.focus()),$dialog.loadingEnd(RESET_PASSWORD_DIALOG)}))},e.sendVerifyCodeResetPassword=function(e,n,t,i){var a={phone_number:e}
n&&(a.token_captcha=t),$http.post(AUTH_API+"/user/forgetPasswordByPhone",a,i)},e.renderRecaptchaResetPassword=function(){"true"===RESET_PASSWORD_DIALOG.find("input[name=recaptcha]").val()?(null!==e.resetPasswordRccId?grecaptcha.reset(e.resetPasswordRccId):e.resetPasswordRccId=grecaptcha.render("reset-pass-recaptcha",{sitekey:GTOKEN_CAPTCHA_ID,callback:e.resendVerifyCodeResetPasswordAction}),$("#reset-pass-recaptcha").css("display","block")):$("#reset-pass-recaptcha").css("display","none")},e.init(),e}(),RegisterAction=function(){var e=this
return e.init=function(){e.registerRccId=null,e.resendCodeRccId=null,$("a[href=#register]").click(e.showRegisterDialog),REGISTER_DIALOG.find("a[href=#policy]").click(e.showPolicyAction),REGISTER_DIALOG.find("form").on("submit",e.registerAction),VERIFY_CODE_DIALOG.find("form").on("submit",e.verifyCodeAction),VERIFY_CODE_DIALOG.find("a[href=#resend-verify-code-action]").click(e.resendVerifyCodeAction),ADDITIONAL_INFO_DIALOG.find("form").on("submit",e.finishAdditionalInfoAction)},e.showPolicyAction=function(e){e.preventDefault(),$dialog.show(REGISTER_POLICY_DIALOG,DIALOG_OPTION,function(){REGISTER_DIALOG.find("input[name=phonenumber]").focus()})},e.showRegisterDialog=function(n){n.preventDefault()
var t=REGISTER_DIALOG.find("input[name=phonenumber]")
e.renderGrecaptchaRegister(),t.val(""),$validate.none(t.parent())
var i=$.extend({},DIALOG_OPTION,{outSideClick:!1})
$dialog.show(REGISTER_DIALOG,i),REGISTER_DIALOG.find("input[name=phonenumber]").focus()},e.renderGrecaptchaRegister=function(){"true"===REGISTER_DIALOG.find("input[name=recaptcha]").val()?(null!==e.registerRccId?grecaptcha.reset(e.registerRccId):e.registerRccId=grecaptcha.render("register-recaptcha",{sitekey:GTOKEN_CAPTCHA_ID,callback:e.registerAction}),$("#register-recaptcha").css("display","block")):$("#register-recaptcha").css("display","none")},e.registerAction=function(n){n.preventDefault&&n.preventDefault()
var t=REGISTER_DIALOG.find("input[name=phonenumber]"),i=REGISTER_DIALOG.find("input[name=accept-policy]").prop("checked"),a=t.parent(),o=t.val(),r="true"===REGISTER_DIALOG.find("input[name=recaptcha]").val(),s=null,c=!0
r&&null!==e.registerRccId&&(s=grecaptcha.getResponse(e.registerRccId)),r&&null===s&&($validate.error(a,MSG.recaptchaInvalid),t.focus(),c=!1,null===e.registerRccId&&e.renderGrecaptchaRegister()),$validate.checkPhonenumber(o)||($validate.error(a,MSG.phonenumberInvalid),t.focus(),c=!1),i||($validate.error(a,MSG.notAcceptPolicy),REGISTER_DIALOG.find("input[name=accept-policy]").focus(),c=!1),c&&($dialog.loadingStart(REGISTER_DIALOG),e.sendVerifyCode(o,r,s,function(n,i){n?($validate.none(a),e.showVerifyCodeDialog(o)):i&&-1===i.code&&i.data&&!1===i.data.token_captcha?(REGISTER_DIALOG.find("input[name=recaptcha]").val("true"),null===e.registerRccId?$validate.info(a,MSG.pleaseVerifyRecaptcha):$validate.error(a,MSG.recaptchaInvalid),e.renderGrecaptchaRegister(),t.focus()):(r&&s&&e.renderGrecaptchaRegister(),$validate.error(a,$validate.getErrorMsg(i)||MSG.somethingWhenWrong),t.focus()),$dialog.loadingEnd(REGISTER_DIALOG)}))},e.showVerifyCodeDialog=function(e){$dialog.hide(),VERIFY_CODE_DIALOG.find("input[name=phonenumber]").val(e||"")
var n=VERIFY_CODE_DIALOG.find("input[name=verify-code]")
n.val(""),$validate.none(n.parent())
var t=$.extend({},DIALOG_OPTION,{outSideClick:!1})
$dialog.show(VERIFY_CODE_DIALOG,t),VERIFY_CODE_DIALOG.find("input[name=verify-code]").focus()},e.resendVerifyCodeAction=function(n){n.preventDefault&&n.preventDefault()
var t=VERIFY_CODE_DIALOG.find("input[name=verify-code]"),i=t.parent(),a=VERIFY_CODE_DIALOG.find("input[name=phonenumber]").val(),o="true"===VERIFY_CODE_DIALOG.find("input[name=recaptcha]").val(),r=null
o&&null!==e.resendCodeRccId&&(r=grecaptcha.getResponse(e.resendCodeRccId)),o&&null===r?($validate.error(i,MSG.recaptchaInvalid),null===e.resendCodeRccId&&e.renderGrecaptchaResendRegisterActiveCode(),t.focus()):($dialog.loadingStart(VERIFY_CODE_DIALOG),e.sendVerifyCode(a,o,r,function(n,a){n?$validate.info(i,MSG.resendActiveCodeSuccess):a&&a.data&&!1===a.data.token_captcha?(VERIFY_CODE_DIALOG.find("input[name=recaptcha]").val("true"),null===e.resendCodeRccId?$validate.info(i,MSG.pleaseVerifyRecaptcha):$validate.error(i,MSG.recaptchaInvalid),e.renderGrecaptchaResendRegisterActiveCode(),t.focus()):a&&a.data&&a.data.exist_phone&&(o&&r&&e.renderGrecaptchaResendRegisterActiveCode(),$validate.error(i,$validate.getErrorMsg(a)||MSG.somethingWhenWrong),t.focus()),$dialog.loadingEnd(VERIFY_CODE_DIALOG)}))},e.renderGrecaptchaResendRegisterActiveCode=function(){"true"===VERIFY_CODE_DIALOG.find("input[name=recaptcha]").val()?(null!==e.resendCodeRccId?grecaptcha.reset(e.resendCodeRccId):e.resendCodeRccId=grecaptcha.render("register-active-code-recaptcha",{sitekey:GTOKEN_CAPTCHA_ID,callback:e.resendVerifyCodeAction}),$("#register-active-code-recaptcha").css("display","block")):$("#register-active-code-recaptcha").css("display","none")},e.verifyCodeAction=function(n){n.preventDefault()
var t=VERIFY_CODE_DIALOG.find("input[name=verify-code]"),i=t.parent(),a=VERIFY_CODE_DIALOG.find("input[name=phonenumber]").val(),o=t.val()
o?($dialog.loadingStart(VERIFY_CODE_DIALOG),$http.post(AUTH_API+"/user/registerByVerifyCode",{phone_number:a,verify_code:o},function(n,a){n&&a.data&&a.data.token?e.showAdditonalInfoDialog(a.data.token):($validate.error(i,$validate.getErrorMsg(a)||MSG.activeCodeInvalid),t.focus()),$dialog.loadingEnd(VERIFY_CODE_DIALOG)})):($validate.error(i,MSG.activeCodeInvalid),t.focus())},e.sendVerifyCode=function(e,n,t,i){var a={phone_number:e}
n&&(a.token_captcha=t),$http.post(AUTH_API+"/user/registerByPhone",a,i)},e.showAdditonalInfoDialog=function(e){$dialog.hide(),ADDITIONAL_INFO_DIALOG.find("input[name=phonetoken]").val(e)
var n=ADDITIONAL_INFO_DIALOG.find("input[name=fullname]")
n.val(""),$validate.none(n.parent())
var t=ADDITIONAL_INFO_DIALOG.find("input[name=email]")
t.val(""),$validate.none(t.parent())
var i=ADDITIONAL_INFO_DIALOG.find("input[name=password]")
i.val(""),$validate.none(i.parent())
var a=$.extend({},DIALOG_OPTION,{outSideClick:!1})
$dialog.show(ADDITIONAL_INFO_DIALOG,a),n.focus()},e.finishAdditionalInfoAction=function(e){e.preventDefault()
var n=ADDITIONAL_INFO_DIALOG.find("input[name=phonetoken]").val(),t=ADDITIONAL_INFO_DIALOG.find("input[name=fullname]"),i=ADDITIONAL_INFO_DIALOG.find("input[name=email]"),a=ADDITIONAL_INFO_DIALOG.find("input[name=password]"),o=(t.val()||"").trim(),r=(i.val()||"").trim(),s=(a.val()||"").trim(),c=!1
$pass.validate(s)||($validate.error(a.parent(),MSG.passwordInvalid),c=!0,a.focus()),$validate.checkEmail(r)||($validate.error(i.parent(),MSG.emailInvalid),c=!0,i.focus()),o||($validate.error(t.parent(),MSG.fullnameInvalid),c=!0,t.focus()),c||($dialog.loadingStart(ADDITIONAL_INFO_DIALOG),$http.post(AUTH_API+"/user/register",{full_name:o,phone_token:n,password:$pass.encrypt(s),email:r},function(e,n){n&&n.code>=0?($dialog.hide(),$dialog.show(REGISTER_SUCCESS_DIALOG,DIALOG_OPTION)):($validate.error(i.parent(),$validate.getErrorMsg(n)||MSG.somethingRegisterWentWrong),i.focus()),$dialog.loadingEnd(ADDITIONAL_INFO_DIALOG)}))},e.init(),e}(),OAuthAction=function(){var e=this
return e.resendVerifyFBRccId=null,e.registerFBRccId=null,e.init=function(){$("a[href=#register-facebook-action], a[href=#login-facebook]").click(e.registerFacebookAction),REGISTER_FB_DIALOG.find("a[href=#policy]").click(e.showPolicyAction),REGISTER_FB_DIALOG.find("form").on("submit",e.continueRegisterFacebookAction),VERIFY_CODE_FB_DIALOG.find("form").on("submit",e.verifyCodeActionForFacebook),VERIFY_CODE_FB_DIALOG.find("a[href=#resend-verify-code-action]").click(e.resendVerifyCodeActionForFacebook),e.initLoginFacebook()},e.showPolicyAction=function(e){e.preventDefault()
var n=$.extend({},DIALOG_OPTION,{outSideClick:!1})
$dialog.show(REGISTER_POLICY_DIALOG,n,function(){REGISTER_FB_DIALOG.find("input[name=phonenumber]").focus()})},e.continueRegisterFacebookAction=function(n){n&&n.preventDefault&&n.preventDefault()
var t=REGISTER_FB_DIALOG.find("input[name=phonenumber]"),i=REGISTER_FB_DIALOG.find("input[name=accept-policy]").prop("checked"),a=t.parent(),o=t.val(),r=REGISTER_FB_DIALOG.find("input[name=fbid]").val(),s=REGISTER_FB_DIALOG.find("input[name=token]").val(),c=REGISTER_FB_DIALOG.find("input[name=password]"),d=(c.val()||"").trim(),l="true"===REGISTER_FB_DIALOG.find("input[name=recaptcha]").val(),p=null,h=!1
if(l&&null!==e.registerFBRccId&&(p=grecaptcha.getResponse(e.registerFBRccId)),l&&null===p&&($validate.error(t.parent(),MSG.recaptchaInvalid),null===e.registerFBRccId&&e.renderRecaptchaRegisterFB(),t.focus(),h=!0),$validate.checkPhonenumber(o)||($validate.error(a,MSG.phonenumberInvalid),h=!0,t.focus()),$pass.validate(d)||($validate.error(c.parent(),MSG.passwordInvalid),h=!0,c.focus()),i||($validate.error(a,MSG.notAcceptPolicy),h=!0,t.focus()),!h){$validate.none(a),$dialog.loadingStart(REGISTER_FB_DIALOG)
var u={phone_number:o}
l&&(u.token_captcha=p),$http.post(AUTH_API+"/user/registerByPhone",u,function(n,i){n?e.showVerifyCodeDialogForFacebook(o,$pass.encrypt(d),r,s):i&&i.data&&!1===i.data.token_captcha?(REGISTER_FB_DIALOG.find("input[name=recaptcha]").val("true"),null===e.registerFBRccId?$validate.info(t.parent(),MSG.pleaseVerifyRecaptcha):$validate.error(t.parent(),MSG.recaptchaInvalid),e.renderRecaptchaRegisterFB(),t.focus()):(l&&p&&e.renderRecaptchaRegisterFB(),$validate.error(a,$validate.getErrorMsg(i)||MSG.somethingWhenWrong),t.focus()),$dialog.loadingEnd(REGISTER_FB_DIALOG)})}},e.showContinueRegisterFacebookDialog=function(e,n,t){e=e||{}
var i=e.id||"",a=e.name,o=REGISTER_FB_DIALOG.find(".avatar"),r=VERIFY_CODE_FB_DIALOG.find(".avatar")
i?($dialog.loadingStart(VERIFY_CODE_FB_DIALOG),FB.api("/"+i+"/picture",function(e){e&&!e.error&&(o.find("img").attr("src",e.data.url),r.find("img").attr("src",e.data.url)),$dialog.loadingEnd(VERIFY_CODE_FB_DIALOG)}),o.find(".fullname").html("Xin chào <strong>"+a+"</strong>"),o.css("display","block"),r.find(".fullname").html("Xin chào <strong>"+a+"</strong>"),r.css("display","block"),REGISTER_FB_DIALOG.find("input[name=fbid]").val(e.id),REGISTER_FB_DIALOG.find("input[name=token]").val(n)):(o.css("display","none"),r.css("display","none")),$dialog.hide()
var s=REGISTER_FB_DIALOG.find("input[name=phonenumber]")
$validate.none(),t?(s.val(t),s.prop("disabled",!0)):s.val(""),REGISTER_FB_DIALOG.find("input[name=password]").val(""),$dialog.show(REGISTER_FB_DIALOG,DIALOG_OPTION),REGISTER_FB_DIALOG.find("input[name=phonenumber]").focus()},e.registerFacebookAction=function(n){n&&n.preventDefault&&n.preventDefault()
var t=$(this),i=t.closest(".mdialog")
$dialog.loadingStart(i),FB.getLoginStatus(function(n){"connected"===n.status?e.authFacebook(n.authResponse.userID,n.authResponse.accessToken,function(){var e=t.parent().find(".form-group").last()
$validate.error(e,MSG.somethingWhenWrong),$dialog.loadingEnd(i)}):FB.login(function(n){"connected"===n.status?e.authFacebook(n.authResponse.userID,n.authResponse.accessToken,function(){var e=t.parent().find(".form-group").last()
$validate.error(e,MSG.somethingWhenWrong),$dialog.loadingEnd(i)}):$dialog.loadingEnd(i)})})},e.authFacebook=function(n,t,i){$http.post(AUTH_API+"/user/login/oauth",{oauth_type:"facebook",id:n,token:t},function(n,a){n?a&&1==a.default_oauth_credential?DialogManager.showSignInSetPass(a.user_profile.phone_number,function(){$event.dispatch(EVENT_LOGIN,!0),location.reload()}):($dialog.hide(),$event.dispatch(EVENT_LOGIN,!0),location.reload()):a&&a.data&&1==a.data.default_oauth_credential?FB.api("/me",function(e){DialogManager.showSignInSetPass(a.data.profile.phone_number,t,e.id)}):a&&a.data&&1==a.data.need_register?FB.api("/me",function(n){e.showContinueRegisterFacebookDialog(n,t)}):i&&i(n,a)})},e.verifyCodeActionForFacebook=function(n){n.preventDefault()
var t=VERIFY_CODE_FB_DIALOG.find("input[name=verify-code]"),i=t.parent(),a=VERIFY_CODE_FB_DIALOG.find("input[name=phonenumber]").val(),o=VERIFY_CODE_FB_DIALOG.find("input[name=fbid]").val(),r=VERIFY_CODE_FB_DIALOG.find("input[name=token]").val(),s=VERIFY_CODE_FB_DIALOG.find("input[name=encryptedPass]").val(),c=t.val()
c?($validate.none(i),$dialog.loadingStart(VERIFY_CODE_FB_DIALOG),$http.post(AUTH_API+"/user/registerWithOAuth",{oauth_type:"facebook",id:o,token:r,phone_number:a,verify_code:c,password:s},function(n,a){n?e.authFacebook(o,r,function(){$validate.error(i,MSG.somethingWhenWrong)}):$validate.error(i,$validate.getErrorMsg(a)||MSG.activeCodeInvalid),t.focus(),$dialog.loadingEnd(VERIFY_CODE_FB_DIALOG)})):($validate.error(i,MSG.activeCodeInvalid),t.focus())},e.resendVerifyCodeActionForFacebook=function(n){n&&n.preventDefault&&n.preventDefault()
var t=VERIFY_CODE_FB_DIALOG.find("input[name=verify-code]"),i=t.parent(),a=VERIFY_CODE_FB_DIALOG.find("input[name=phonenumber]").val(),o="true"===VERIFY_CODE_FB_DIALOG.find("input[name=recaptcha]").val(),r=null
o&&null!==e.resendVerifyFBRccId&&(r=grecaptcha.getResponse(e.resendVerifyFBRccId)),o&&null===r&&($validate.error(t.parent(),MSG.recaptchaInvalid),null===e.resendVerifyFBRccId&&e.renderResendVerifyFB(),$verifycode.focus()),$dialog.loadingStart(VERIFY_CODE_FB_DIALOG),e.sendVerifyCode(a,o,r,function(n,a){n?$validate.info(i,MSG.resendActiveCodeSuccess):a&&a.data&&!1===a.data.token_captcha?(VERIFY_CODE_FB_DIALOG.find("input[name=recaptcha]").val("true"),null===e.resendVerifyFBRccId?$validate.info(t.parent(),MSG.pleaseVerifyRecaptcha):$validate.error(t.parent(),MSG.recaptchaInvalid),e.renderResendVerifyFB(),t.focus()):(o&&r&&e.renderResendVerifyFB(),$validate.error(i,$validate.getErrorMsg(a)||MSG.somethingWhenWrong),t.focus()),$dialog.loadingEnd(VERIFY_CODE_FB_DIALOG)})},e.renderResendVerifyFB=function(){"true"===VERIFY_CODE_FB_DIALOG.find("input[name=recaptcha]").val()?(null!==e.resendVerifyFBRccId?grecaptcha.reset(e.resendVerifyFBRccId):e.resendVerifyFBRccId=grecaptcha.render("resend-verify-facebook-recaptcha",{sitekey:GTOKEN_CAPTCHA_ID,callback:e.resendVerifyCodeActionForFacebook}),$("#resend-verify-facebook-recaptcha").css("display","block")):$("#resend-verify-facebook-recaptcha").css("display","none")},e.renderRecaptchaRegisterFB=function(){"true"===REGISTER_FB_DIALOG.find("input[name=recaptcha]").val()?(null!==e.registerFBRccId?grecaptcha.reset(e.registerFBRccId):e.registerFBRccId=grecaptcha.render("register-facebook-recaptcha",{sitekey:GTOKEN_CAPTCHA_ID,callback:e.continueRegisterFacebookAction}),$("#register-facebook-recaptcha").css("display","block")):$("#register-facebook-recaptcha").css("display","none")},e.showVerifyCodeDialogForFacebook=function(e,n,t,i){$dialog.hide(),VERIFY_CODE_FB_DIALOG.find("input[name=phonenumber]").val(e||""),VERIFY_CODE_FB_DIALOG.find("input[name=encryptedPass]").val(n||""),VERIFY_CODE_FB_DIALOG.find("input[name=fbid]").val(t||""),VERIFY_CODE_FB_DIALOG.find("input[name=token]").val(i||"")
var a=VERIFY_CODE_FB_DIALOG.find("input[name=verify-code]")
a.val(""),$validate.none(a.parent()),$dialog.show(VERIFY_CODE_FB_DIALOG,DIALOG_OPTION),VERIFY_CODE_FB_DIALOG.find("input[name=verify-code]").focus()},e.initLoginFacebook=function(){window.fbAsyncInit=function(){FB.init({appId:"616393751844075",cookie:!0,xfbml:!0,version:"v2.5"}),FB.getLoginStatus()},function(e,n,t){var i,a=e.getElementsByTagName(n)[0]
e.getElementById(t)||(i=e.createElement(n),i.id=t,i.src="//connect.facebook.net/en_US/sdk.js",a.parentNode.insertBefore(i,a))}(document,"script","facebook-jssdk")},e.init(),e}()
!function(){var e=this
e.init=function(){$("a[href=#logout]").click(function(e){e.preventDefault(),$http.post(AUTH_API+"/user/logout",{},function(e){e&&($event.dispatch(EVENT_LOGOUT,!0),location.reload())})})},e.init()}(),function(){var e=this
e.initPhonenumberFormat=function(){$("input[role=phonenumber]").on("keydown",function(e){$(this).attr("oldval",$(this).val())})
for(var n=$("input[role=phonenumber]"),t=0;t<n.length;t++)$(n[t]).val(e.formatPhonenumber($(n[t]).val()))
$("input[role=phonenumber]").on("keyup",function(n){var t=this.selectionStart,i=$(this).val()||"",a=t<i.length,o=$(this).attr("oldval")
if(i&&i!==o){var r=e.formatPhonenumber(i)
$(this).val(r),$(this).trigger("change"),a&&(r.length-o.length>=2?(this.selectionStart=t+1,this.selectionEnd=t+1):o.length-r.length>=2?(this.selectionStart=t-1,this.selectionEnd=t-1):(this.selectionStart=t,this.selectionEnd=t))}})},e.formatPhonenumber=function(e){e=e||""
var n=e.replace(/[^\d^\+]+/g,""),t=0==n.indexOf("+")
return n=n.replace(/\+/g,""),t?"+"+n:n},e.initResetValidateForm=function(){$(".form-group input").on("keyup",function(e){13!=e.keyCode&&27!=e.keyCode&&($(".error-form div.msg").remove(),$(".error-form").removeClass("error-form"))})},e.initPhonenumberFormat(),e.initResetValidateForm()}(),function(){var e=$("form[name=logined-info]")
if(e.length){var n=e.find("input[name=_u]").val(),t=e.find("input[name=_d]").val(),i=e.find("input[name=_e]").val()
n&&(fap.alias(n),fap.people.set({displayName:t,email:i,sid:n}))}$event.on(EVENT_LOGOUT,function(e){fap&&fap.reset&&fap.reset()}),$event.on(EVENT_LOGIN,function(e){})}(),function(){function e(){return i.hasClass("is-open")}function n(){i.removeClass("is-open")}var t=$(".avatar-user-black, .avatar-user"),i=t.next(".dropdownItem")
t.click(function(e){i.toggleClass("is-open"),e.preventDefault()}),$(document).click(function(e){var n=$(e.target),a=n.closest(i),o=n.closest(t)
n[0]!=t[0]&&(a[0]||n[0]==t[0]||o[0]||t.trigger("outsideclick"))}),t.on("outsideclick",function(){n()}),$(document).keydown(function(t){switch(t.keyCode){case 27:e()&&n()}})}(),function(){function e(e){function t(){return window.ga?i()?void r():g>=u?(console.warn("[TrackingContactForm][Timeout] Could not find any form with selector query:",p.formQuery),void o()):(setTimeout(t,500),void(g+=500)):void console.warn("[TrackingContactForm] Google Analytics not found. Please embed GA scripts.")}function i(){var e=a()
return!!(e&&e.length>0)||(setTimeout(i,500),!1)}function a(){return h=jQuery(p.container).find(p.formQuery)}function o(){f<p.retry&&(console.log("[TrackingContactForm] Try to get form after:",p.retryDelay/1e3+"s"),setTimeout(function(){f++,g=0,t()},p.retryDelay))}function r(){try{console.log("[TrackingContactForm] Found forms and start tracking user events actions:",Object.keys(p.trackingEvents).filter(function(e){return p.trackingEvents[e]}).join(" "))}catch(e){console.log("[TrackingContactForm] Found forms and start tracking user events actions.")}try{h.each(function(e,n){var t=jQuery(n)
p.trackingEvents.input&&s(t),p.trackingEvents.submit&&d(t)})}catch(e){console.error(e)}}function s(e){e.on("keyup change",":input",function(t){try{if(27===t.which||e.trackedFillingForm)return
e.trackedFillingForm=!0,console.log("[TrackingContactForm] User filling form")
var i=c(e),a=e.attr("id")
ga("send",{hitType:"event",eventCategory:p.eventCategory,eventAction:n.INPUT,eventLabel:p.eventLabels.input,formId:i||a}),window.fap&&fap.track("form",{subtype:n.INPUT,form_id:i||a,event_category:p.eventCategory,event_label:p.eventLabels.input})}catch(e){console.log(e)}})}function c(e){return e?jQuery(e).attr("data-form-id"):""}function d(e){e.on("submit",function(t){try{console.log("[TrackingContactForm] User submitted form")
var i=c(e),a=e.attr("id")
e.trackedFillingForm=!1,ga("send",{hitType:"event",eventCategory:p.eventCategory,eventAction:n.SUBMIT,eventLabel:p.eventLabels.submit,formId:i||a}),window.fap&&fap.track("form",{subtype:n.SUBMIT,form_id:i||a,event_category:p.eventCategory,event_label:p.eventLabels.submit,form_data:e.serializeArray().reduce(function(e,n){return e[n.name]=n.value,e},{})})}catch(e){console.error(e)}})}if(e=e||{},void 0===window.$||!window.jQuery)return void console.warn("[TrackingContactForm] jQuery library not found.")
if(!e.formQuery)return void console.warn("[TrackingContactForm][Missing Options] `formQuery` must be declare in options parameter.")
var l={trackingEvents:{input:!0,submit:!0},container:"document",formQuery:"",eventCategory:"Forms",eventLabels:{input:"User filling form",submit:"User submit form"},retry:2,retryDelay:1e3},p=jQuery.extend({},l,e)
p.container=p.container||l.container
var h=null,u=5e3,g=0,f=0
t()}window.TrackingContactForm=e
var n={INPUT:"input",SUBMIT:"submit"}}()